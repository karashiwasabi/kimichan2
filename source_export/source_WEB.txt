----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\css\base.css -----
:root {
    --primary-color: #ff9f43;
    --primary-light: #fff3e0;
    --accent-color: #ff6b6b;
    --text-main: #4a4a4a;
    --text-sub: #878787;
    --bg-color: #f7f9fc;
    --card-bg: #ffffff;
    --border-radius: 16px;
    --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.05);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    -webkit-tap-highlight-color: transparent;
}

body {
    font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
    background-color: var(--bg-color);
    color: var(--text-main);
    padding-bottom: 80px;
}

/* ã‚¢ã‚¤ã‚³ãƒ³è¦–èªæ€§å¼·åŒ– */
.icon-strong {
    opacity: 1 !important;
    filter: none !important;
    font-size: 1.2em;
}
.icon-faint {
    opacity: 0.2;
    filter: grayscale(100%);
}

----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\css\components.css -----
/* ã‚«ãƒ¼ãƒ‰ */
.card-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.card {
    background: var(--card-bg);
    border-radius: var(--border-radius);
    padding: 16px;
    box-shadow: var(--shadow-soft);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.card-content {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

/* ã‚¿ã‚°ãƒ»ãƒãƒƒã‚¸ */
.tag {
    font-size: 10px;
    background-color: var(--primary-light);
    color: var(--primary-color);
    padding: 3px 8px;
    border-radius: 4px;
    align-self: flex-start;
}

.location-badge {
    font-size: 10px;
    background-color: #e0f2f1;
    color: #009688;
    padding: 3px 8px;
    border-radius: 4px;
    margin-left: 5px;
}

.loc-header-badge {
    display: inline-block;
    background: #eee;
    color: #666;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: bold;
    margin-bottom: 5px;
}

.item-name {
    font-size: 16px;
    font-weight: bold;
}

.item-unit {
    font-size: 12px;
    color: var(--text-sub);
}

/* ãƒ•ã‚©ãƒ¼ãƒ  */
.form-group {
    margin-bottom: 16px;
}

.label {
    display: block;
    font-size: 12px;
    margin-bottom: 6px;
    color: var(--text-sub);
}

.input-field {
    width: 100%;
    padding: 12px;
    border: 1px solid #eee;
    border-radius: 12px;
    font-size: 16px;
    outline: none;
    background-color: #fff;
}

.input-field:focus {
    border-color: var(--primary-color);
}

.textarea-field {
    width: 100%;
    padding: 12px;
    border: 1px solid #eee;
    border-radius: 12px;
    font-size: 14px;
    min-height: 100px;
    font-family: monospace;
    resize: none;
}

.search-area {
    margin-bottom: 20px;
}

.search-input {
    width: 100%;
    padding: 12px 20px;
    border: none;
    border-radius: 30px;
    background-color: var(--card-bg);
    box-shadow: var(--shadow-soft);
    font-size: 14px;
    outline: none;
    transition: 0.3s;
}

.search-input:focus {
    box-shadow: 0 4px 15px rgba(255, 159, 67, 0.2);
}

/* ãƒœã‚¿ãƒ³ */
.btn-row {
    display: flex;
    gap: 12px;
    margin-top: 10px;
    flex-shrink: 0;
}

.btn {
    flex: 1;
    padding: 14px;
    border: none;
    border-radius: 12px;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    text-decoration: none;
    text-align: center;
    display: inline-block;
}

.btn-cancel {
    background: var(--bg-color);
    color: var(--text-sub);
}

.btn-save {
    background: var(--primary-color);
    color: white;
}

.btn-delete {
    background: #ffebee;
    color: #e74c3c;
}

.fab {
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 56px;
    height: 56px;
    background-color: var(--primary-color);
    color: white;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 28px;
    box-shadow: 0 4px 15px rgba(255, 159, 67, 0.4);
    border: none;
    cursor: pointer;
    z-index: 90;
}

/* ã‚¿ãƒ– */
.tab-group {
    display: flex;
    background: var(--bg-color);
    padding: 4px;
    border-radius: 12px;
    margin-bottom: 20px;
}

.tab-btn {
    flex: 1;
    padding: 8px;
    border: none;
    background: none;
    border-radius: 10px;
    font-size: 13px;
    color: var(--text-sub);
    cursor: pointer;
}

.tab-btn.active {
    background: white;
    color: var(--primary-color);
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    font-weight: bold;
}

/* ã‚¹ãƒ†ãƒƒãƒ‘ãƒ¼ */
.stepper-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: #f9f9f9;
    padding: 15px;
    border-radius: 12px;
}
.stepper-display {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
    width: 100%;
    justify-content: center;
}
.stepper-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: none;
    background: white;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    font-size: 24px;
    color: var(--primary-color);
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
}
.stepper-btn:active {
    background: #eee;
    transform: scale(0.95);
}
.stepper-value {
    font-size: 24px;
    font-weight: bold;
    width: 100px;
    text-align: center;
    border: none;
    background: transparent;
    outline: none;
}
.preset-chips {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    justify-content: center;
}
.preset-chip {
    padding: 6px 12px;
    border-radius: 20px;
    background: white;
    border: 1px solid #eee;
    font-size: 12px;
    color: var(--text-sub);
    cursor: pointer;
}
.preset-chip:active {
    background: var(--primary-light);
    color: var(--primary-color);
}

----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\css\layout.css -----
header {
    background-color: var(--card-bg);
    padding: 15px 20px;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 2px 10px rgba(0,0,0,0.03);
    display: flex;
    justify-content: center;
    align-items: center;
}

.logo {
    font-size: 18px;
    font-weight: bold;
    color: var(--primary-color);
    letter-spacing: 0.05em;
}

.container {
    padding: 20px;
    max-width: 600px;
    margin: 0 auto;
}

.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 70px;
    background: var(--card-bg);
    display: flex;
    justify-content: space-around;
    align-items: center;
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
    box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
    z-index: 100;
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 10px;
    color: var(--text-sub);
    text-decoration: none;
    width: 60px;
}

.nav-item.active {
    color: var(--primary-color);
    font-weight: bold;
}

.nav-icon {
    font-size: 24px;
    margin-bottom: 4px;
}

/* ãƒ¢ãƒ¼ãƒ€ãƒ«å…±é€š */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.4);
    backdrop-filter: blur(2px);
    z-index: 200;
    display: none;
    justify-content: center;
    align-items: flex-end;
}

.modal-overlay.active {
    display: flex;
}

.modal-sheet {
    background: var(--card-bg);
    width: 100%;
    max-width: 600px;
    border-top-left-radius: 24px;
    border-top-right-radius: 24px;
    padding: 24px;
    max-height: 85vh;
    display: flex;
    flex-direction: column;
    animation: slideUp 0.3s ease-out;
}

.modal-sheet.full-screen {
    height: 100%;
    max-height: 100%;
    border-radius: 0;
    padding: 0;
}

.modal-sheet.full-screen .modal-header {
    padding: 15px;
    background: white;
    border-bottom: 1px solid #eee;
    margin-bottom: 0;
}

.modal-sheet.full-screen .modal-scroll-area {
    padding: 20px;
}

.modal-sheet.full-screen .btn-row {
    padding: 15px;
    background: white;
    border-top: 1px solid #eee;
    margin-top: 0;
}

@keyframes slideUp {
    from { transform: translateY(100%); }
    to { transform: translateY(0); }
}

.modal-header {
    text-align: center;
    margin-bottom: 15px;
    font-weight: bold;
    font-size: 16px;
    flex-shrink: 0;
}

/* â˜…ä¿®æ­£ç®‡æ‰€ï¼šflex: 1 (è¦ªè¦ç´ ã®é«˜ã•ã«åˆã‚ã›ã¦æŸ”è»Ÿã«ä¼¸ã³ã‚‹è¨­å®š) ãŒé‡è¦ */
.modal-scroll-area {
    flex: 1;
    overflow-y: auto;
    margin-bottom: 15px;
    padding-right: 5px;
}

----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\css\views.css -----
/* --- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´ --- */
.search-area {
    margin-bottom: 10px;
    padding: 5px 10px;
    background: var(--bg-color);
    position: sticky;
    top: 0;
    z-index: 10;
}

#inventory-list, #catalog-list, #recipe-list {
    padding-bottom: 80px;
}

/* --- ã‚«ãƒ†ã‚´ãƒªã‚¿ãƒ–ãƒ»é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ« --- */
/* â˜…æ¨ªä¸¦ã³å¼·åˆ¶è¨­å®š */
.category-wrapper, .selector-tabs {
    display: flex !important;
    flex-wrap: nowrap !important;
    align-items: center;
    gap: 8px;
    overflow-x: auto;
    padding: 5px 0 10px 0;
    margin-bottom: 5px;
    -webkit-overflow-scrolling: touch;
}

.cat-chip, .selector-tab {
    flex: 0 0 auto; /* â˜…ç¸®å°ç¦æ­¢ */
    background: white;
    border: 1px solid #ddd;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 12px;
    white-space: nowrap;
    color: #555;
    cursor: pointer;
}
.cat-chip.active, .selector-tab.active {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
    font-weight: bold;
}

/* --- å…±é€šã‚«ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ« --- */
.card {
    background: var(--card-bg);
    border-radius: var(--border-radius);
    padding: 12px 16px;
    margin-bottom: 12px;
    box-shadow: var(--shadow-soft);
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
}
.card:active {
    transform: scale(0.98);
}

/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
.card-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}
.card-content-wrapper {
    display: flex; 
    align-items: center;
    flex: 1;
    width: 100%;
}
.card-text-area {
    flex: 1; 
    margin-left: 12px;
    overflow: hidden;
}
.card-tag-row {
    display: flex; 
    align-items: center;
    margin-bottom: 4px;
}
.card-name-row {
    display: flex; 
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
}

.item-name {
    font-weight: bold;
    color: var(--text-main);
    font-size: 16px;
}
.tag {
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 4px;
    background: #eee;
    color: #666;
    display: inline-block;
    margin-right: 5px;
}
.item-unit {
    font-size: 14px;
    font-weight: bold;
    color: var(--text-main);
    margin-left: 10px;
    white-space: nowrap;
}

/* --- åœ¨åº«ãƒªã‚¹ãƒˆå°‚ç”¨ --- */
.loc-header-badge {
    background-color: #e0e0e0;
    color: #333;
    padding: 6px 12px;
    border-radius: 6px;
    font-weight: bold;
    font-size: 14px;
    margin-top: 20px;
    margin-bottom: 8px;
    margin-left: 4px;
}
.inventory-empty-msg {
    font-size: 12px;
    color: #ccc;
    padding: 20px;
    text-align: center;
}

/* æœŸé™è¡¨ç¤º */
.date-tag {
    font-weight: bold;
    font-size: 11px;
    padding: 2px 6px;
    border-radius: 4px;
    background: #f0f0f0;
}
.status-expired { color: #e74c3c; background: #fadbd8; }
.status-soon    { color: #3498db; background: #d6eaf8; }
.status-normal  { color: #555; }
.stock-status-ok { color: #27ae60; font-weight: bold; font-size: 12px; }

/* ãƒ¬ã‚·ãƒ”ãƒãƒƒã‚¸ãƒ»ãƒœã‚¿ãƒ³ */
.recipe-badge-btn {
    background: #e67e22;
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: bold;
    margin-left: 8px;
    border: none;
    cursor: pointer;
    display: inline-block;
}

/* ã‚¯ã‚¤ãƒƒã‚¯è¿½åŠ ãƒœã‚¿ãƒ³ */
.btn-quick-add {
    background: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 4px 10px;
    font-size: 11px;
    cursor: pointer;
    margin-left: auto;
}

/* --- å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãƒ»ãƒ¢ãƒ¼ãƒ€ãƒ« --- */
.btn-open-selector {
    width: 100%;
    text-align: left;
    background: white;
    border: 1px solid #ccc;
    padding: 12px;
    border-radius: 8px;
    color: #333;
    font-size: 16px;
}
.modal-selector-body {
    height: 70vh;
    display: flex;
    flex-direction: column;
}
.selector-list {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
}
.selector-item {
    padding: 14px;
    border-bottom: 1px solid #eee;
    cursor: pointer;
    font-size: 16px;
}
.selector-item-kana {
    font-size: 12px;
    color: #999;
    margin-left: 8px;
}

/* å†™çœŸã‚¨ãƒªã‚¢ */
.fridge-snapshot-area {
    display: flex;
    overflow-x: auto;
    gap: 10px;
    padding: 5px 10px 15px 10px;
    border-bottom: 1px dashed #eee;
    min-height: 120px;
}
.snapshot-card {
    flex: 0 0 100px;
    height: 100px;
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    background: #f0f0f0;
    border: 1px solid #ddd;
}
.snapshot-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.btn-add-snapshot {
    flex: 0 0 80px;
    height: 100px;
    background: #fff;
    border: 2px dashed #ccc;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #999;
    font-size: 10px;
    font-weight: bold;
    cursor: pointer;
}
.btn-delete-snapshot {
    position: absolute;
    top: 2px;
    right: 2px;
    width: 24px;
    height: 24px;
    background: rgba(0,0,0,0.6);
    color: white;
    border-radius: 50%;
    border: none;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
}

----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\views\catalog_view.html -----
<div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
    <div style="display:flex; gap:10px; align-items:center;">
        <select id="sort-order" class="input-field" style="width:auto; padding:6px 12px; font-size:12px;">
            <option value="id_desc">æ–°ç€é † (IDé™é †)</option>
            <option value="kana_asc">50éŸ³é †</option>
        </select>
        <label style="font-size:12px; display:flex; align-items:center; cursor:pointer;">
            <input type="checkbox" id="filter-no-kana" style="margin-right:4px;"> ã‚ˆã¿ãŒãªæœªç™»éŒ²
        </label>
    </div>
    <a href="/api/catalog/export" class="btn" style="padding:6px 12px; font-size:11px; background:#eee; color:#666; text-decoration:none; border-radius:4px;">
        ğŸ“¥ CSV
    </a>
</div>

<div class="category-wrapper">
    <button id="scroll-left" class="scroll-btn">â—€</button>
    <div id="category-filters" class="category-scroll">
    </div>
    <button id="scroll-right" class="scroll-btn">â–¶</button>
</div>

<div class="search-area">
    <input type="text" id="catalog-search" class="search-input" placeholder="é£Ÿæåã§æ¤œç´¢...">
</div>

<div id="catalog-list" class="card-list">
</div>

<button id="fab-add" class="fab">ï¼‹</button>

<div id="modal-overlay" class="modal-overlay">
    <div class="modal-sheet">
        <div class="modal-header" id="modal-title">ã‚¢ã‚¤ãƒ†ãƒ ç™»éŒ²</div>
        
        <div class="modal-scroll-area">
            <input type="hidden" id="edit-id">
            <input type="hidden" id="original-unit">
            <input type="hidden" id="original-name">

            <div class="tab-group" style="margin-bottom:15px;">
                <button type="button" id="tab-single" class="tab-btn active">å€‹åˆ¥å…¥åŠ›</button>
                <button type="button" id="tab-csv" class="tab-btn">ä¸€æ‹¬ç™»éŒ²</button>
            </div>

            <div id="form-single">
                <div class="form-group">
                    <label class="label">é£Ÿæå</label>
                    <input type="text" id="input-name" class="input-field" placeholder="ä¾‹: ã‚­ãƒ£ãƒ™ãƒ„">
                </div>
                <div id="reference-area" style="display:none; background:#f0f8ff; padding:10px; border-radius:8px; margin-bottom:15px; border:1px solid #dbeafe;">
                    <div style="font-size:11px; font-weight:bold; color:#4a90e2; margin-bottom:5px;">
                        ğŸ’¡ é¡ä¼¼ãƒ»å‚è€ƒã‚¢ã‚¤ãƒ†ãƒ  (ã‚¯ãƒªãƒƒã‚¯ã§çµ±åˆ)
                    </div>
                    <div id="reference-list" style="display:flex; flex-wrap:wrap; gap:5px;"></div>
                </div>
                <div class="form-group">
                    <label class="label">åˆ†é¡</label>
                    <select id="input-classification" class="input-field">
                        <option value="é£Ÿæ">é£Ÿæ</option>
                        <option value="èª¿å‘³æ–™">èª¿å‘³æ–™</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="label">ã‚«ãƒ†ã‚´ãƒª</label>
                    <div style="display:flex; gap:10px;">
                         <select id="select-category" class="input-field" style="flex:1;">
                            <option value="">(æ–°è¦å…¥åŠ›)</option>
                         </select>
                         <input type="text" id="input-category" class="input-field" style="flex:1;" placeholder="æ–°è¦ã‚«ãƒ†ã‚´ãƒªå">
                    </div>
                </div>
                <div class="form-group">
                    <label class="label">ã‚ˆã¿ãŒãª (ä»»æ„)</label>
                    <input type="text" id="input-kana" class="input-field" placeholder="ä¾‹: ãã‚ƒã¹ã¤">
                </div>
                <div class="form-group">
                    <label class="label">å˜ä½</label>
                    <input type="text" id="input-unit" class="input-field" placeholder="ä¾‹: å€‹, g">
                </div>
            </div>

            <div id="form-csv" style="display:none;">
                <div class="form-group">
                    <label class="label">CSVè²¼ã‚Šä»˜ã‘</label>
                    <textarea id="input-csv-text" class="textarea-field" placeholder="å“å,åˆ†é¡,ã‚«ãƒ†ã‚´ãƒª,å˜ä½,ã‚ˆã¿ãŒãª"></textarea>
                </div>
                <div id="csv-result-area" class="result" style="display:none;"></div>
            </div>
        </div>

        <div class="btn-row">
            <button id="btn-delete-catalog" class="btn btn-delete" style="display:none; margin-right:auto; background-color:#e74c3c; color:white;">å‰Šé™¤</button>
            <button id="btn-cancel" class="btn btn-cancel">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
            <button id="btn-save" class="btn btn-save">ä¿å­˜</button>
        </div>
    </div>
</div>

----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\views\inventory_view.html -----
<div class="fab-wrapper">
    <div id="inventory-list" class="card-list"></div>
</div>

<button id="fab-add-inventory" class="fab">ï¼‹</button>

<input type="file" id="snapshot-file" accept="image/*" style="display:none;">

<div class="search-area">
    <input type="text" id="inventory-search" class="search-input" placeholder="åœ¨åº«ã‚’æ¤œç´¢...">
</div>

<div id="modal-inventory" class="modal-overlay">
    <div class="modal-sheet">
        <div class="modal-header">é£Ÿæã‚’è¿½åŠ </div>
        <div class="modal-scroll-area">
            
            <input type="hidden" id="inv-select-catalog-id">

            <div class="form-group">
                <label class="label">é£Ÿæ</label>
                <button id="btn-open-selector" class="btn-open-selector">
                    é£Ÿæã‚’é¸æŠã—ã¦ãã ã•ã„...
                </button>
            </div>

            <div class="form-group">
                <label class="label">ä¿ç®¡å ´æ‰€</label>
                <select id="inv-location" class="input-field"></select>
            </div>

            <div class="form-group">
                <label class="label">è©³ç´°è¨­å®š</label>
                <div class="toggle-switch">
                    <input type="checkbox" id="inv-detail-toggle">
                    <label for="inv-detail-toggle">æ•°é‡ãƒ»æœŸé™ã‚’å…¥åŠ›ã™ã‚‹</label>
                </div>
            </div>

            <div id="inv-detail-area" style="display:none;">
                <div class="form-group">
                    <label class="label">æ•°é‡ãƒ»å˜ä½</label>
                    <div style="display:flex; gap:10px;">
                        <input type="number" id="inv-amount" class="input-field" placeholder="1" style="flex:1;">
                        <input type="text" id="inv-unit" class="input-field" placeholder="å€‹" style="flex:1;">
                    </div>
                    <div style="display:flex; gap:5px; margin-top:5px;">
                        <button class="btn-small" onclick="addAmount(1)">+1</button>
                        <button class="btn-small" onclick="addAmount(0.5)">+0.5</button>
                        <button class="btn-small" onclick="addAmount(-1)">-1</button>
                    </div>
                </div>
                <div class="form-group">
                    <label class="label">è³å‘³æœŸé™</label>
                    <input type="date" id="inv-date" class="input-field">
                </div>
                <div class="form-group">
                    <label class="label">å†™çœŸ (ä»»æ„)</label>
                    <input type="file" id="inv-file" accept="image/*">
                    <img id="inv-preview" class="preview-img" style="display:none;">
                    <input type="hidden" id="inv-image-path">
                </div>
            </div>
        </div>
        <div class="btn-row">
            <button id="btn-inv-cancel" class="btn btn-cancel">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
            <button id="btn-inv-save" class="btn btn-save">ä¿å­˜</button>
        </div>
    </div>
</div>

<div id="modal-inv-edit" class="modal-overlay">
    <div class="modal-sheet">
        <div class="modal-header" id="inv-edit-title">ç·¨é›†</div>
        <div class="modal-scroll-area">
            <input type="hidden" id="inv-edit-id">
            <div class="form-group">
                <label class="label">ä¿ç®¡å ´æ‰€</label>
                <select id="inv-edit-location" class="input-field"></select>
            </div>
            <div class="form-group">
                <label class="label">æ•°é‡</label>
                <input type="number" id="inv-edit-amount" class="input-field">
                <span id="inv-edit-unit" style="margin-left:5px;"></span>
            </div>
            <div class="form-group">
                <label class="label">è³å‘³æœŸé™</label>
                <input type="date" id="inv-edit-date" class="input-field">
            </div>
            <div class="form-group">
                <label class="label">å†™çœŸå¤‰æ›´</label>
                <input type="file" id="inv-edit-file" accept="image/*">
                <img id="inv-edit-preview" class="preview-img" style="display:none;">
                <input type="hidden" id="inv-edit-image-path">
            </div>
        </div>
        <div class="btn-row">
            <button id="btn-inv-delete" class="btn btn-delete">å‰Šé™¤</button>
            <button id="btn-inv-edit-cancel" class="btn btn-cancel">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
            <button id="btn-inv-update" class="btn btn-save">æ›´æ–°</button>
        </div>
    </div>
</div>

<div id="modal-item-selector" class="modal-overlay">
    <div class="modal-sheet" style="height: 80vh;">
        <div class="modal-header">
            é£Ÿæã‚’é¸ã¶
            <button id="btn-selector-close" style="float:right; background:none; border:none; font-size:14px;">âœ•</button>
        </div>
        <div class="modal-selector-body">
            <div style="padding:10px;">
                <input type="text" id="selector-search" class="search-input" placeholder="ãªã¾ãˆã€ã‹ãªã§æ¤œç´¢...">
            </div>
            <div id="selector-tabs" class="selector-tabs"></div>
            <div id="selector-list" class="selector-list"></div>
        </div>
    </div>
</div>

<div id="modal-photo-view" class="modal-overlay" style="background: rgba(0,0,0,0.9); z-index: 9999;">
    <div style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; position:relative;">
        <img id="photo-view-img" class="modal-image-view">
        <button id="btn-photo-close" style="position:absolute; top:20px; right:20px; background:white; border:none; padding:10px; border-radius:50%; font-size:20px;">Ã—</button>
    </div>
</div>

----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\views\recipes_view.html -----
<div class="search-area">
    <input type="text" id="recipe-search" class="search-input" placeholder="ãƒ¬ã‚·ãƒ”ã‚’æ¤œç´¢...">
</div>

<div id="recipe-list" class="card-list">
</div>

<button id="fab-add-recipe" class="fab">ï¼‹</button>

<div id="modal-recipe" class="modal-overlay">
    <div class="modal-sheet full-screen">
        <div class="modal-header" id="modal-recipe-title">ãƒ¬ã‚·ãƒ”ç™»éŒ²</div>
        
        <div class="modal-scroll-area">
            <input type="hidden" id="rec-id">
            
            <div class="form-group">
                <label class="label">ãƒ¬ã‚·ãƒ”å</label>
                <input type="text" id="rec-name" class="input-field" placeholder="ä¾‹: è‡³é«˜ã®è±šæ±">
            </div>

            <div class="form-group">
                <label class="label">åˆ†é‡ãƒ»ä½•äººå‰</label>
                <input type="text" id="rec-yield" class="input-field" placeholder="ä¾‹: 2äººåˆ†">
            </div>

            <div class="form-group">
                <label class="label">å‚ç…§URL (YouTubeãªã©)</label>
                <input type="text" id="rec-url" class="input-field" placeholder="https://...">
            </div>

            <div class="form-group">
                <label class="label">ä½œã‚Šæ–¹ãƒ»ãƒ¡ãƒ¢</label>
                <textarea id="rec-process" class="textarea-field" placeholder="æ‰‹é †ã‚’ã“ã“ã«..." style="min-height:200px;"></textarea>
            </div>

            <div class="form-group">
                <label class="label">ææ–™ãƒªã‚¹ãƒˆ</label>
                <p style="font-size:11px; color:#999; margin-bottom:5px;">
                    ä¾‹:ã€Œè±šãƒãƒ©,200,gã€ã¾ãŸã¯ã€Œï¼ã‚½ãƒ¼ã‚¹ï¼ã€ã§è¦‹å‡ºã—ãŒä½œã‚Œã¾ã™ã€‚<br>
                    å¤–éƒ¨ã‚µã‚¤ãƒˆã®ãƒ¬ã‚·ãƒ”ã‚‚ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ã¿ã¦ãã ã•ã„ã€‚
                </p>
                <textarea id="rec-csv" class="textarea-field" style="min-height:150px;" placeholder="è±šãƒãƒ©è‚‰,280,g&#13;&#10;å¤§æ ¹,0.5,æœ¬"></textarea>
            </div>
        </div>

        <div class="btn-row">
            <button id="btn-rec-cancel" class="btn btn-cancel">é–‰ã˜ã‚‹</button>
            <button id="btn-rec-save" class="btn btn-save">ä¿å­˜ã™ã‚‹</button>
        </div>
    </div>
</div>

<div id="modal-recipe-detail" class="modal-overlay">
    <div class="modal-sheet full-screen">
        <div class="modal-header" id="detail-title" style="font-size:18px; color:#e67e22;">ãƒ¬ã‚·ãƒ”è©³ç´°</div>
        
        <div class="modal-scroll-area">
            <div id="detail-yield" style="text-align:center; font-size:12px; color:#666; margin-bottom:10px;"></div>
            
            <div id="detail-missing-alert" class="missing-alert-box" style="display:none;"></div>

            <div style="margin-bottom:20px; text-align:center;">
                <a id="detail-link" href="#" target="_blank" class="btn" style="background:#e74c3c; color:white; text-decoration:none; display:inline-block; padding:10px 20px; border-radius:30px; font-size:14px;">
                    â–¶ YouTubeã§è¦‹ã‚‹
                </a>
            </div>

            <div class="form-group">
                <label class="label">ææ–™</label>
                <div id="detail-ingredients" style="background:#f9f9f9; padding:10px; border-radius:8px; font-size:14px; line-height:1.6;">
                </div>
            </div>

            <div class="form-group">
                <label class="label">ä½œã‚Šæ–¹</label>
                <div id="detail-process" style="white-space:pre-wrap; background:#f9f9f9; padding:10px; border-radius:8px; font-size:14px;">
                </div>
            </div>
        </div>

        <div class="btn-row">
            <button id="btn-detail-close" class="btn btn-cancel">é–‰ã˜ã‚‹</button>
            <button id="btn-detail-edit" class="btn btn-save" style="background-color:#f39c12;">ä¿®æ­£ã™ã‚‹</button>
        </div>
    </div>
</div>

<div id="modal-missing-ing" class="modal-overlay" style="z-index: 300;">
    <div class="modal-sheet">
        <div class="modal-header" style="color:#e74c3c;">æœªç™»éŒ²ã®é£ŸæãŒã‚ã‚Šã¾ã™</div>
        <div class="modal-scroll-area" id="missing-list-area" style="max-height:300px;"></div>
        <div class="btn-row">
            <button id="btn-missing-cancel" class="btn btn-cancel">ã‚„ã‚ã‚‹</button>
            <button id="btn-missing-register" class="btn btn-save">ç™»éŒ²ã—ã¦ä¿å­˜</button>
        </div>
    </div>
</div>

----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\views\seasoning_view.html -----
<div class="search-area">
    <input type="text" id="seasoning-search" class="search-input" placeholder="èª¿å‘³æ–™ã‚’æ¤œç´¢...">
</div>

<div id="seasoning-list" class="card-list">
</div>

<button id="fab-add-seasoning" class="fab">ï¼‹</button>

<div id="modal-seasoning" class="modal-overlay">
    <div class="modal-sheet">
        <div class="modal-header">èª¿å‘³æ–™ã‚’è¿½åŠ </div>
        
        <div class="form-group">
            <label class="label">èª¿å‘³æ–™ã‚’é¸ã¶</label>
            <select id="seas-select-catalog" class="input-field">
                <option value="">ã‚«ã‚¿ãƒ­ã‚°ã‹ã‚‰é¸æŠ...</option>
            </select>
        </div>

        <div class="form-group">
            <label class="label">çŠ¶æ…‹</label>
            <select id="seas-status" class="input-field">
                <option value="ã‚ã‚Š">ã‚ã‚Š</option>
                <option value="å°‘ãªã‚">å°‘ãªã‚</option>
                <option value="ãªã—">ãªã—</option>
            </select>
        </div>

        <div class="btn-row">
            <button id="btn-seas-cancel" class="btn btn-cancel">ã‚„ã‚ã‚‹</button>
            <button id="btn-seas-save" class="btn btn-save">è¿½åŠ ã™ã‚‹</button>
        </div>
    </div>
</div>

<div id="modal-seasoning-edit" class="modal-overlay">
    <div class="modal-sheet">
        <div class="modal-header" id="seas-edit-title">èª¿å‘³æ–™ã®ç®¡ç†</div>
        <input type="hidden" id="seas-edit-id">

        <p style="margin-bottom:20px; text-align:center; font-size:13px; color:#666;">
            ã‚¹ãƒˆãƒƒã‚¯ã‹ã‚‰å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ
        </p>

        <div class="btn-row">
            <button id="btn-seas-delete" class="btn" style="background:#e74c3c; color:white;">ã‚¹ãƒˆãƒƒã‚¯ã‹ã‚‰å¤–ã™ (å‰Šé™¤)</button>
        </div>
        <div style="margin-top:10px; text-align:center;">
            <a href="#" id="btn-seas-edit-cancel" style="font-size:12px; color:#999;">é–‰ã˜ã‚‹</a>
        </div>
    </div>
</div>

----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\catalog.html -----
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Item Catalog</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #50e3c2;
            --background-color: #f4f7f6;
            --card-background: #ffffff;
            --text-color: #333;
            --border-color: #ddd;
            --shadow-color: rgba(0, 0, 0, 0.1);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
            color: var(--text-color);
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        h1 { color: var(--primary-color); }
        .card {
            background-color: var(--card-background);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px var(--shadow-color);
        }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .form-grid .full-width { grid-column: 1 / -1; }
        label { display: block; margin-bottom: 5px; font-weight: 500; }
        input, select, textarea, button {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 1em;
        }
        button { background-color: var(--primary-color); color: white; border: none; cursor: pointer; }
        textarea { resize: vertical; min-height: 100px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid var(--border-color); }
        th { background-color: #f8f8f8; }
        a { color: var(--primary-color); }
    </style>
</head>
<body>
    <div class="container">
        <a href="/">&laquo; Back to Menu</a>
        <h1>Manage Item Catalog</h1>

        <div class="card">
            <h2>Add Single Item</h2>
            <form id="addItemForm" class="form-grid">
                <div>
                    <label for="name">Name</label>
                    <input type="text" id="name" required>
                </div>
                <div>
                    <label for="classification">Classification</label>
                    <select id="classification">
                        <option value="é£Ÿæ">é£Ÿæ (Ingredient)</option>
                        <option value="èª¿å‘³æ–™">èª¿å‘³æ–™ (Seasoning)</option>
                    </select>
                </div>
                <div>
                    <label for="category">Category</label>
                    <input type="text" id="category" placeholder="e.g., è‚‰, é‡èœ, ã‚¹ãƒ‘ã‚¤ã‚¹">
                </div>
                <div>
                    <label for="default_unit">Default Unit</label>
                    <input type="text" id="default_unit" list="unit-list" placeholder="e.g., g, å€‹, ml">
                </div>
                <button type="submit" class="full-width">Add Item to Catalog</button>
            </form>
        </div>

        <div class="card">
            <h2>Bulk Add Seasonings</h2>
            <form id="bulkAddForm">
                <label for="bulk-names">Enter one seasoning name per line:</label>
                <textarea id="bulk-names" placeholder="å¡©&#10;ã‚³ã‚·ãƒ§ã‚¦&#10;é†¤æ²¹..."></textarea>
                <button type="submit" style="margin-top: 10px;">Bulk Add Seasonings</button>
            </form>
        </div>

        <div class="card">
            <h2>Catalog Items</h2>
            <a href="/api/catalog/export" class="button-link" style="background-color: #50e3c2; color: white; padding: 10px 15px; border-radius: 4px; text-decoration: none; display: inline-block; margin-bottom: 15px;">Export as CSV</a>
            <table id="catalogTable">
                <thead><tr><th>Name</th><th>Classification</th><th>Category</th><th>Default Unit</th></tr></thead>
                <tbody id="catalogList"></tbody>
            </table>
        </div>
    </div>
    
    <datalist id="unit-list">
        <option value="g"></option><option value="å€‹"></option><option value="ml"></option>
        <option value="å°ã•ã˜"></option><option value="å¤§ã•ã˜"></option><option value="æŒ¯ã‚Š"></option>
    </datalist>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const singleForm = document.getElementById('addItemForm');
            const bulkForm = document.getElementById('bulkAddForm');
            const catalogList = document.getElementById('catalogList');

            const fetchCatalog = async () => {
                try {
                    const response = await fetch('/api/catalog');
                    if (!response.ok) throw new Error('Network response was not ok');
                    const items = await response.json();
                    
                    catalogList.innerHTML = '';
                    if (!items) return;
                    
                    items.forEach(item => {
                        const tr = document.createElement('tr');
                        tr.innerHTML = `
                            <td>${item.name || ''}</td>
                            <td>${item.classification || ''}</td>
                            <td>${item.category || ''}</td>
                            <td>${item.default_unit || ''}</td>
                        `;
                        catalogList.appendChild(tr);
                    });
                } catch (error) {
                    console.error('Failed to fetch catalog:', error);
                    catalogList.innerHTML = '<tr><td colspan="4">Failed to load catalog.</td></tr>';
                }
            };
            
            const postItems = async (items) => {
                try {
                    const response = await fetch('/api/catalog', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(items),
                    });
                    if (!response.ok) {
                        const errorText = await response.text();
                        throw new Error(`Server error: ${errorText}`);
                    }
                    await response.json();
                    return true;
                } catch (error) {
                    console.error('Failed to post items:', error);
                    alert(`Error: ${error.message}`);
                    return false;
                }
            };

            singleForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const item = {
                    name: document.getElementById('name').value,
                    classification: document.getElementById('classification').value,
                    category: document.getElementById('category').value,
                    default_unit: document.getElementById('default_unit').value,
                };
                const success = await postItems([item]); // API expects an array
                if (success) {
                    singleForm.reset();
                    fetchCatalog();
                }
            });

            bulkForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const namesText = document.getElementById('bulk-names').value;
                const names = namesText.split('\n').map(name => name.trim()).filter(name => name);
                
                if (names.length === 0) return;

                const items = names.map(name => ({
                    name: name,
                    classification: 'èª¿å‘³æ–™' // Default to seasoning for bulk add
                }));

                const success = await postItems(items);
                if (success) {
                    bulkForm.reset();
                    fetchCatalog();
                }
            });

            fetchCatalog(); // Initial load
        });
    </script>
</body>
</html>


----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\index.html -----
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kimichan Kitchen</title>
    
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/views.css">
</head>
<body>

    <header>
        <div class="logo">ãã¿ã¡ã‚ƒã‚“ã‚­ãƒƒãƒãƒ³</div>
    </header>

    <main id="app-container" class="container">
    </main>

    <nav class="bottom-nav">
        <a href="#" class="nav-item" data-view="inventory">
      
       <span class="nav-icon">ğŸ¥¦</span>
            <span>é£Ÿæ</span>
        </a>
        <a href="#" class="nav-item" data-view="seasoning">
            <span class="nav-icon">ğŸ§‚</span>
            <span>èª¿å‘³æ–™</span>
        </a>
        <a href="#" class="nav-item" data-view="recipes">
            <span class="nav-icon">ğŸ³</span>
     
        <span>ãƒ¬ã‚·ãƒ”</span>
        </a>
        <a href="#" class="nav-item" data-view="catalog">
            <span class="nav-icon">ğŸ“–</span>
            <span>å›³é‘‘</span>
        </a>
    </nav>

    <script src="js/catalog_list.js"></script>
    <script src="js/catalog_edit.js"></script>
    
    <script src="js/inventory_locations.js"></script>
    <script src="js/inventory_photos.js"></script>
    <script src="js/inventory_list.js"></script>
    <script src="js/inventory_edit.js"></script>
    <script src="js/seasoning_fetch.js"></script>
    <script src="js/seasoning_ui.js"></script>
    <script src="js/recipe_list.js"></script>
    <script src="js/recipe_edit.js"></script>
  
   <script src="js/app.js"></script>
</body>
</html>

----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\ingredients.html -----
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Ingredients</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --background-color: #f4f7f6;
            --card-background: #ffffff;
            --text-color: #333;
            --border-color: #ddd;
            --shadow-color: rgba(0, 0, 0, 0.1);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
            color: var(--text-color);
        }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { color: var(--primary-color); }
        .card {
            background-color: var(--card-background);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px var(--shadow-color);
        }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; }
        .form-grid .full-width { grid-column: 1 / -1; }
        label { display: block; margin-bottom: 5px; font-weight: 500; }
        input, select, button {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 1em;
        }
        button { background-color: var(--primary-color); color: white; border: none; cursor: pointer; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid var(--border-color); }
        th { background-color: #f8f8f8; }
        a { color: var(--primary-color); }
    </style>
</head>
<body>
    <div class="container">
        <a href="/">&laquo; Back to Menu</a>
        <h1>Manage Ingredients</h1>

        <div class="card">
            <h2>Add Ingredient to Refrigerator</h2>
            <form id="addIngredientForm" class="form-grid">
                <div class="full-width">
                    <label for="catalog-select">Ingredient</label>
                    <select id="catalog-select" required></select>
                </div>
                <div>
                    <label for="amount">Amount</label>
                    <input type="number" id="amount" step="any" required>
                </div>
                <div>
                    <label for="unit">Unit</label>
                    <input type="text" id="unit" required>
                </div>
                <div class="full-width">
                    <label for="exp-date">Expiration Date</label>
                    <input type="date" id="exp-date">
                </div>
                <button type="submit" class="full-width">Add to Refrigerator</button>
            </form>
        </div>

        <div class="card">
            <h2>Ingredients in Refrigerator</h2>
            <table id="inventoryTable">
                <thead><tr><th>Name</th><th>Amount</th><th>Unit</th><th>Expires</th></tr></thead>
                <tbody id="inventoryList"></tbody>
            </table>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const catalogSelect = document.getElementById('catalog-select');
            const unitInput = document.getElementById('unit');
            const inventoryList = document.getElementById('inventoryList');
            const form = document.getElementById('addIngredientForm');

            let ingredientsCatalog = [];

            // 1. Fetch catalog and populate dropdown
            try {
                const response = await fetch('/api/catalog');
                const catalog = await response.json();
                ingredientsCatalog = catalog.filter(item => item.classification === 'é£Ÿæ');
                
                catalogSelect.innerHTML = '<option value="">Select an ingredient...</option>';
                ingredientsCatalog.forEach(item => {
                    const option = document.createElement('option');
                    option.value = item.id;
                    option.textContent = item.name;
                    catalogSelect.appendChild(option);
                });
            } catch (error) {
                console.error('Failed to load catalog:', error);
                catalogSelect.innerHTML = '<option value="">Could not load catalog</option>';
            }
            
            // 2. Fetch and render inventory
            const fetchInventory = async () => {
                try {
                    const response = await fetch('/api/ingredients');
                    const inventory = await response.json();
                    inventoryList.innerHTML = '';
                    if (!inventory) return;
                    inventory.forEach(item => {
                        const tr = document.createElement('tr');
                        tr.innerHTML = `
                            <td>${item.name || ''}</td>
                            <td>${item.amount || ''}</td>
                            <td>${item.unit || ''}</td>
                            <td>${item.expiration_date ? item.expiration_date.split('T')[0] : ''}</td>
                        `;
                        inventoryList.appendChild(tr);
                    });
                } catch (error) {
                    console.error('Failed to load inventory:', error);
                }
            };

            // 3. Handle dropdown change to autofill unit
            catalogSelect.addEventListener('change', () => {
                const selectedId = parseInt(catalogSelect.value, 10);
                const selectedItem = ingredientsCatalog.find(item => item.id === selectedId);
                if (selectedItem) {
                    unitInput.value = selectedItem.default_unit || '';
                }
            });

            // 4. Handle form submission
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                const body = {
                    catalog_id: parseInt(catalogSelect.value, 10),
                    amount: parseFloat(document.getElementById('amount').value) || 0,
                    unit: unitInput.value,
                    expiration_date: document.getElementById('exp-date').value,
                };

                if (!body.catalog_id) {
                    alert('Please select an ingredient.');
                    return;
                }

                try {
                    const response = await fetch('/api/ingredients', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(body),
                    });
                    if (!response.ok) throw new Error(await response.text());
                    
                    form.reset();
                    catalogSelect.value = "";
                    await fetchInventory();

                } catch (error) {
                    console.error('Failed to add ingredient:', error);
                    alert('Error adding ingredient.');
                }
            });
            
            // Initial load
            await fetchInventory();
        });
    </script>
</body>
</html>


----- C:\Users\wasab\OneDrive\ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\kimichan2\static\seasonings.html -----
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Seasonings</title>
    <style>
        :root {
            --secondary-color: #50e3c2;
            --background-color: #f4f7f6;
            --card-background: #ffffff;
            --text-color: #333;
            --border-color: #ddd;
            --shadow-color: rgba(0, 0, 0, 0.1);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
            color: var(--text-color);
        }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { color: var(--secondary-color); }
        .card {
            background-color: var(--card-background);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px var(--shadow-color);
        }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-grid .full-width { grid-column: 1 / -1; }
        label { display: block; margin-bottom: 5px; font-weight: 500; }
        input, select, button {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 1em;
        }
        button { background-color: var(--secondary-color); color: white; border: none; cursor: pointer; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid var(--border-color); }
        th { background-color: #f8f8f8; }
        a { color: var(--secondary-color); text-decoration: none; }
    </style>
</head>
<body>
    <div class="container">
        <a href="/">&laquo; Back to Menu</a>
        <h1>Manage Seasonings</h1>

        <div class="card">
            <h2>Add Seasoning to Stock</h2>
            <form id="addSeasoningForm" class="form-grid">
                <div class="full-width">
                    <label for="catalog-select">Seasoning</label>
                    <select id="catalog-select" required></select>
                </div>
                <div>
                    <label for="status-select">Status</label>
                    <select id="status-select">
                        <option value="ã‚ã‚Š">ã‚ã‚Š (In Stock)</option>
                        <option value="æ®‹ã‚Šã‚ãšã‹">æ®‹ã‚Šã‚ãšã‹ (Low Stock)</option>
                        <option value="ãªã—">ãªã— (Out of Stock)</option>
                    </select>
                </div>
                <button type="submit" class="full-width">Add to Stock</button>
            </form>
        </div>

        <div class="card">
            <h2>Seasonings in Stock</h2>
            <table id="inventoryTable">
                <thead><tr><th>Name</th><th>Category</th><th>Status</th></tr></thead>
                <tbody id="inventoryList"></tbody>
            </table>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const catalogSelect = document.getElementById('catalog-select');
            const statusSelect = document.getElementById('status-select');
            const inventoryList = document.getElementById('inventoryList');
            const form = document.getElementById('addSeasoningForm');

            // 1. Fetch catalog and populate dropdown
            try {
                const response = await fetch('/api/catalog');
                const catalog = await response.json();
                const seasoningsCatalog = catalog.filter(item => item.classification === 'èª¿å‘³æ–™');
                
                catalogSelect.innerHTML = '<option value="">Select a seasoning...</option>';
                seasoningsCatalog.forEach(item => {
                    const option = document.createElement('option');
                    option.value = item.id;
                    option.textContent = item.name;
                    catalogSelect.appendChild(option);
                });
            } catch (error) {
                console.error('Failed to load catalog:', error);
                catalogSelect.innerHTML = '<option value="">Could not load catalog</option>';
            }
            
            // 2. Fetch and render inventory
            const fetchInventory = async () => {
                try {
                    const response = await fetch('/api/seasonings');
                    const inventory = await response.json();
                    inventoryList.innerHTML = '';
                    if (!inventory) return;
                    inventory.forEach(item => {
                        const tr = document.createElement('tr');
                        tr.innerHTML = `
                            <td>${item.name || ''}</td>
                            <td>${item.category || ''}</td>
                            <td>${item.status || ''}</td>
                        `;
                        inventoryList.appendChild(tr);
                    });
                } catch (error) {
                    console.error('Failed to load inventory:', error);
                }
            };

            // 3. Handle form submission
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                const body = {
                    catalog_id: parseInt(catalogSelect.value, 10),
                    status: statusSelect.value,
                };

                if (!body.catalog_id) {
                    alert('Please select a seasoning.');
                    return;
                }

                try {
                    const response = await fetch('/api/seasonings', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(body),
                    });
                    if (!response.ok) throw new Error(await response.text());
                    
                    form.reset();
                    catalogSelect.value = "";
                    await fetchInventory();

                } catch (error) {
                    console.error('Failed to add seasoning:', error);
                    alert('Error adding seasoning.');
                }
            });
            
            // Initial load
            await fetchInventory();
        });
    </script>
</body>
</html>


