<div class="fridge-snapshot-area" id="fridge-snapshot-list">
    </div>
<input type="file" id="snapshot-file" accept="image/*" capture="environment" style="display:none;">

<div class="search-area">
    <input type="text" id="inventory-search" class="search-input" placeholder="冷蔵庫の中身を検索...">
</div>

<div id="inventory-list" class="card-list">
</div>

<button id="fab-add-inventory" class="fab">＋</button>

<div id="modal-inventory" class="modal-overlay">
    <div class="modal-sheet">
        <div class="modal-header">食材を追加</div>
        
        <div class="modal-scroll-area">
            <div class="form-group">
                <label class="label">食材を選ぶ</label>
                <select id="inv-select-catalog" class="input-field">
                    <option value="">カタログから選択...</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="label">保管場所</label>
                <div style="display:flex; gap:10px;">
                    <select id="inv-location" class="input-field" style="flex:1;">
                        </select>
                    <button type="button" id="btn-manage-loc" style="padding:0 12px; border:1px solid #eee; background:#fff; border-radius:12px; cursor:pointer;">⚙</button>
                </div>
            </div>

            <div style="border-top:1px dashed #eee; margin:15px 0;"></div>

            <div class="form-group" style="display:flex; align-items:center; justify-content:space-between;">
                <label class="label" style="margin:0; font-size:14px; color:#333;">詳細（数量・期限）を入力する</label>
                <input type="checkbox" id="inv-detail-toggle" style="transform:scale(1.3);">
            </div>

            <div id="inv-detail-area" style="display:none; background:#f9f9f9; padding:10px; border-radius:8px; margin-bottom:15px;">
                <div class="form-group">
                    <label class="label">数量</label>
                    <div class="stepper-container" style="background:#fff;">
                        <div class="stepper-display">
                            <button type="button" class="stepper-btn" id="btn-minus" onclick="addAmount(-1)">－</button>
                            <input type="number" id="inv-amount" class="stepper-value" placeholder="0" value="1">
                            <button type="button" class="stepper-btn" id="btn-plus" onclick="addAmount(1)">＋</button>
                            <span id="inv-unit-display" style="font-size:14px; color:#666;"></span>
                        </div>
                        <div class="preset-chips">
                            <div class="preset-chip" onclick="addAmount(0.5)">+0.5</div>
                            <div class="preset-chip" onclick="addAmount(1)">+1</div>
                            <div class="preset-chip" onclick="addAmount(10)">+10</div>
                        </div>
                    </div>
                    <input type="hidden" id="inv-unit">
                </div>

                <div class="form-group">
                    <label class="label">賞味期限</label>
                    <input type="date" id="inv-date" class="input-field" style="background:#fff;">
                </div>
            </div>
        </div>

        <div class="btn-row">
            <button id="btn-inv-cancel" class="btn btn-cancel">やめる</button>
            <button id="btn-inv-save" class="btn btn-save">在庫にする</button>
        </div>
    </div>
</div>

<div id="modal-inv-edit" class="modal-overlay">
    <div class="modal-sheet">
        <div class="modal-header" id="inv-edit-title">食材の管理</div>
        <input type="hidden" id="inv-edit-id">
        
        <div class="modal-scroll-area">
            <div class="form-group">
                <label class="label">現在の数量 (-1 は数量なし)</label>
                <div style="display:flex; gap:10px;">
                    <input type="number" id="inv-edit-amount" class="input-field">
                    <div id="inv-edit-unit" style="padding:12px; background:#f9f9f9; border-radius:8px;"></div>
                </div>
            </div>

            <div class="form-group">
                <label class="label">保管場所</label>
                <select id="inv-edit-location" class="input-field"></select>
            </div>

            <div class="form-group">
                <label class="label">賞味期限</label>
                <input type="date" id="inv-edit-date" class="input-field">
            </div>
        </div>

        <div class="btn-row">
            <button id="btn-inv-delete" class="btn" style="background:#e74c3c; color:white;">使い切った (削除)</button>
            <button id="btn-inv-update" class="btn btn-save">変更を保存</button>
        </div>
        <div style="margin-top:10px; text-align:center;">
            <a href="#" id="btn-inv-edit-cancel" style="font-size:12px; color:#999;">閉じる</a>
        </div>
    </div>
</div>

<div id="modal-loc-manage" class="modal-overlay" style="z-index:300;">
    <div class="modal-sheet">
        <div class="modal-header">保管場所の設定</div>
        <div class="modal-scroll-area">
            <ul id="loc-manage-list" class="location-manage-list"></ul>
            <div style="display:flex; gap:10px; margin-top:15px;">
                <input type="text" id="new-loc-name" class="input-field" placeholder="新しい場所名">
                <button id="btn-add-loc" class="btn btn-save" style="flex:0 0 60px;">追加</button>
            </div>
        </div>
        <div class="btn-row">
            <button id="btn-loc-close" class="btn btn-cancel">閉じる</button>
        </div>
    </div>
</div>

<div id="modal-photo-view" class="modal-overlay" style="z-index:400; background:rgba(0,0,0,0.9);">
    <div style="position:relative; max-width:100%; text-align:center;">
        <img id="photo-view-img" class="modal-image-view">
        <button id="btn-photo-close" style="position:absolute; top:-40px; right:10px; color:white; background:none; border:none; font-size:24px;">✕ 閉じる</button>
    </div>
</div>