<div class="fab-wrapper">
    <div id="inventory-list" class="card-list"></div>
</div>
<button id="fab-add-inventory" class="fab">＋</button>
<input type="file" id="snapshot-file" accept="image/*" style="display:none;">

<div class="search-area">
    <input type="text" id="inventory-search" class="search-input" placeholder="在庫を検索...">
</div>

<div id="modal-inventory" class="modal-overlay">
    <div class="modal-sheet">
        <div class="modal-header">食材を追加</div>
        <div class="modal-scroll-area">
            <input type="hidden" id="inv-select-catalog-id">
            <div class="form-group">
                <label class="label">食材</label>
                <button id="btn-open-selector" class="btn-open-selector">食材を選択してください...</button>
            </div>
            <div class="form-group">
                <label class="label">保管場所</label>
                <select id="inv-location" class="input-field"></select>
            </div>
            <div class="form-group">
                <label class="label">詳細設定</label>
                <div class="toggle-switch">
                    <input type="checkbox" id="inv-detail-toggle">
                    <label for="inv-detail-toggle">数量・期限を入力する</label>
                </div>
            </div>
            <div id="inv-detail-area" style="display:none;">
                <div class="form-group">
                    <label class="label">数量・単位</label>
                    <div style="display:flex; gap:10px;">
                        <input type="number" id="inv-amount" class="input-field" placeholder="1" style="flex:1;">
                        <input type="text" id="inv-unit" class="input-field" placeholder="個" style="flex:1;">
                    </div>
                    <div style="display:flex; gap:5px; margin-top:5px;">
                        <button class="btn-small" onclick="addAmount(1)">+1</button>
                        <button class="btn-small" onclick="addAmount(0.5)">+0.5</button>
                        <button class="btn-small" onclick="addAmount(-1)">-1</button>
                    </div>
                </div>
                <div class="form-group">
                    <label class="label">賞味期限</label>
                    <input type="date" id="inv-date" class="input-field">
                </div>
                <div class="form-group">
                    <label class="label">写真 (任意)</label>
                    <input type="file" id="inv-file" accept="image/*">
                    <img id="inv-preview" class="preview-img" style="display:none;">
                    <input type="hidden" id="inv-image-path">
                </div>
            </div>
        </div>
        <div class="btn-row">
            <button id="btn-inv-cancel" class="btn btn-cancel">キャンセル</button>
            <button id="btn-inv-save" class="btn btn-save">保存</button>
        </div>
    </div>
</div>

<div id="modal-inv-edit" class="modal-overlay">
    <div class="modal-sheet">
        <div class="modal-header" id="inv-edit-title">編集</div>
        <div class="modal-scroll-area">
            <input type="hidden" id="inv-edit-id">
            <div class="form-group">
                <label class="label">保管場所</label>
                <select id="inv-edit-location" class="input-field"></select>
            </div>
            <div class="form-group">
                <label class="label">数量</label>
                <input type="number" id="inv-edit-amount" class="input-field">
                <span id="inv-edit-unit" style="margin-left:5px;"></span>
            </div>
            <div class="form-group">
                <label class="label">賞味期限</label>
                <input type="date" id="inv-edit-date" class="input-field">
            </div>
            <div class="form-group">
                <label class="label">写真変更</label>
                <input type="file" id="inv-edit-file" accept="image/*">
                <img id="inv-edit-preview" class="preview-img" style="display:none;">
                <input type="hidden" id="inv-edit-image-path">
            </div>
        </div>
        <div class="btn-row">
            <button id="btn-inv-delete" class="btn btn-delete">削除</button>
            <button id="btn-inv-edit-cancel" class="btn btn-cancel">キャンセル</button>
            <button id="btn-inv-update" class="btn btn-save">更新</button>
        </div>
    </div>
</div>

<div id="modal-item-selector" class="modal-overlay">
    <div class="modal-sheet" style="height: 80vh;">
        <div class="modal-header">
            食材を選ぶ
            <button id="btn-selector-close" style="float:right; background:none; border:none; font-size:14px;">✕</button>
        </div>
        <div class="modal-selector-body">
            <div style="padding:10px;">
                <input type="text" id="selector-search" class="search-input" placeholder="なまえ、かなで検索...">
            </div>
            <div id="selector-tabs" class="selector-tabs"></div>
            <div id="selector-list" class="selector-list"></div>
        </div>
    </div>
</div>

<div id="modal-photo-view" class="modal-overlay" style="background: rgba(0,0,0,0.9); z-index: 9999;">
    <div style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; position:relative;">
        <img id="photo-view-img" class="modal-image-view">
        <button id="btn-photo-close" style="position:absolute; top:20px; right:20px; background:white; border:none; padding:10px; border-radius:50%; font-size:20px;">×</button>
    </div>
</div>